<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Dec 22, 2010 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Maven Erlang Plug-In - Plugin Documentation</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20101222" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Maven Erlang Plug-In
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2010-12-22</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.0-beta</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Releasenotes">Releasenotes</a>
            </li>
                  <li class="none">
            <strong>Goals</strong>
          </li>
                  <li class="none">
                          <a href="plugin-configuration.html" title="Plugin Configuration">Plugin Configuration</a>
            </li>
                  <li class="none">
                          <a href="project-configuration.html" title="Project Configuration">Project Configuration</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="examples/setup.html" title="Project setup">Project setup</a>
            </li>
                  <li class="none">
                          <a href="examples/compile.html" title="Compile source">Compile source</a>
            </li>
                  <li class="none">
                          <a href="examples/coverage.html" title="Coverage report">Coverage report</a>
            </li>
          </ul>
                       <h5>Project</h5>
                  <ul>
                  <li class="none">
                          <a href="project-summary.html" title="Summary">Summary</a>
            </li>
                  <li class="none">
                          <a href="team-list.html" title="Team">Team</a>
            </li>
                  <li class="none">
                          <a href="license.html" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="source-repository.html" title="Source code">Source code</a>
            </li>
                  <li class="none">
                          <a href="issue-tracking.html" title="Issue tracking">Issue tracking</a>
            </li>
          </ul>
                       <h5>Development</h5>
                  <ul>
                  <li class="none">
                          <a href="https://sourceforge.net/projects/erlang-plugin/" class="externalLink" title="Sourceforge">Sourceforge</a>
            </li>
                  <li class="none">
                          <a href="development.html" title="Overview">Overview</a>
            </li>
          </ul>
                       <h5>Reports</h5>
                  <ul>
                  <li class="none">
                          <a href="surefire-report.html" title="Unit tests">Unit tests</a>
            </li>
                  <li class="none">
                          <a href="invoker-report.html" title="Integration tests">Integration tests</a>
            </li>
                  <li class="none">
                          <a href="cobertura/index.html" title="Test coverage">Test coverage</a>
            </li>
                  <li class="none">
                          <a href="taglist.html" title="Tag list">Tag list</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Java API">Java API</a>
            </li>
          </ul>
                       <h5>Dependencies</h5>
                  <ul>
                  <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                  <li class="none">
                          <a href="plugin-management.html" title="Plug-In management">Plug-In management</a>
            </li>
                  <li class="none">
                          <a href="plugins.html" title="Plug-Ins">Plug-Ins</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <a name="Plugin_Documentation"></a><div class="section"><h2>Plugin Documentation<a name="Plugin_Documentation"></a></h2><p>Goals available for this plugin:</p><table align="center" border="0" class="bodyTable"><tr class="a"><th>Goal</th><th>Report?</th><th>Description</th></tr><tr class="b"><td><a href="compile-mojo.html">erlang:compile</a></td><td>No</td><td>This <code>Mojo</code> compiles the projects erlang sources and
SNMP files.</td></tr><tr class="a"><td><a href="copy-resources-mojo.html">erlang:copy-resources</a></td><td>No</td><td><p>This <code>Mojo</code> copies the private resources to the
<code>AbstractErlangMojo.targetPriv</code> directory. Default
source folders for private resources are
<code>AbstractErlangMojo.srcMainPriv</code> and
<code>AbstractErlangMojo.srcMainResourcesPriv</code>.</p></td></tr><tr class="b"><td><a href="copy-test-resources-mojo.html">erlang:copy-test-resources</a></td><td>No</td><td><p>This <code>Mojo</code> copies test resources to the
<code>AbstractErlangMojo.targetTest</code> directory. Default
source folders for test resources are
<code>AbstractErlangMojo.srcTestResources</code>.</p></td></tr><tr class="a"><td><a href="coverage-mojo.html">erlang:coverage</a></td><td>Yes</td><td>Generates a test coverage report with: project summary, showing the
number of functions, clauses executable lines and their test
coverage percentage. A module list with individual coverage reports
and an extensive source code report, with lines annotated in red or
green, showing the exact coverage.</td></tr><tr class="b"><td><a href="dialyzer-mojo.html">erlang:dialyzer</a></td><td>No</td><td><p>This <code>Mojo</code> runs the erlang <code>dialyzer</code>
tool on the project sources found in
<code>AbstractErlangMojo.srcMainErlang</code> as well as the
project includes in <code>AbstractErlangMojo.srcMainInclude</code>.
This means dialyzer will run over the complete project code
(excluding test modules).</p>

<p>The <code>dialyzer</code> can be skipped using the
<code>useDialyzer</code> parameter in the projects pom.
Additionally, the user can choose to run <code>dialyzer</code> also
on the projects dependencies using the
<code>dialyzerWithDependencies</code> pom parameter. This is
disabled by default for the <code>erlang-otp</code> application
packaging.</p></td></tr><tr class="a"><td><a href="dialyzer-release-mojo.html">erlang:dialyzer-release</a></td><td>No</td><td><p>This <code>Mojo</code> runs the erlang <code>dialyzer</code>
tool on a complete release found in
<code>AbstractErlangMojo.targetLib</code>. The
<code>dialyzer</code> can be skipped using the
<code>useDialyzer</code> paramter in the projects pom. Since this
<code>Mojo</code> is called in order to check a complete release it
is run over all release dependencies.</p></td></tr><tr class="b"><td><a href="doc-mojo.html">erlang:doc</a></td><td>Yes</td><td><p>This <code>Mojo</code> will generate EDoc documentation for the
sources found in
<code>AbstractErlangReport.srcMainErlang</code>.</p>

<p>The output will be put into
<code>AbstractErlangReport.targetSite</code>/doc. The user may
specify custom EDoc options in the project pom using the
<code>eDocOptions</code> parameter.</p>

<p>BUG It is known that <code>edoc</code> does not generate a
charset meta tag for the resulting <code>html</code> output.</p>

<p>BUG It is known that <code>doxia</code> overwrites the reports
<code>index.html</code> with a broken template when the report is
invoked as standalone.</p></td></tr><tr class="a"><td><a href="package-mojo.html">erlang:package</a></td><td>No</td><td><p>This <code>Mojo</code> packages all application artifacts into a
single <code>.tar.gz</code> package. This includes
<code>.beam</code> files, the <code>.hrl</code> include files, SNMP
resources, private data from the <code>priv</code> and
<code>resources</code> directories and non-erlang sources.</p>

<p>Besides that this <code>Mojo</code> also copies the erlang
application resource file. In order to manage the project over the
project pom there is the possibility to let the <code>Mojo</code>
automatically fill in values from the project pom into the
<code>.app</code> file. This can be done by using one of the
supported variables into the application resource files. Below is a
list of supported variables and their substitutions:</p>

<ul>
<li><code>${ARTIFACT}</code>: the projects artifact id (atom)</li>

<li><code>${DESCRIPTION}</code>: the projects description
(string)</li>

<li><code>${ID}</code>: the projects id (string)</li>

<li><code>${VERSION}</code>: the projects version (string)</li>

<li><code>${MODULES}</code>: all compiled <code>.beam</code> files
found in the target ebin folder (list)</li>

<li><code>${REGISTERED}</code>: all registered names, based on the
<code>-registered(Names).</code> attribute retrieved from the
compiled <code>.beam</code> files (list)</li>
</ul>

<p>In case there is no application resouce file specified the
<code>Mojo</code> will generate a default <code>.app</code> file
which looks like this:</p>

<pre>
{application, ${ARTIFACT},
  [{description, ${DESCRIPTION}},
   {id, ${ID}},
   {vsn, ${VERSION}},
   {modules, ${MODULES}},
   {maxT, infinity},
   {registered, ${REGISTERED}},
   {included_applications, []},
   {applications, []},
   {env, []},
   {mod, undefined},
   {start_phases, []}]}.
</pre>

<p>The resulting application resource file as well as the
application upgrade file will be checked for plausability
regardless if generated or not. This is done by checking the
application version against the project version, checking the
application modules against the found compiled modules as well as
checking the application's start module.</p></td></tr><tr class="b"><td><a href="package-release-mojo.html">erlang:package-release</a></td><td>No</td><td><p>This <code>Mojo</code> packages creates a release
<code>.tar.gz</code> using the erlang <code>systools</code> modules
<code>make_tar/2</code> function.</p>

<p>The build can be customized by providing additional options
through the <code>tarOptions</code> parameter in the specific
project pom. By default all release dependecies will be packaged
including their <code>ebin</code>, <code>include</code>,
<code>mibs</code> and non-erlang source directories.</p></td></tr><tr class="a"><td><a href="prepare-release-mojo.html">erlang:prepare-release</a></td><td>No</td><td><p>This <code>Mojo</code> prepares the packaging of a release
<code>.tar.gz</code> package by creating the release
upgrade/downgrade scripts as well as the boot and start scripts.
The scripts are created using the erlang <code>systools</code>
modules <code>make_relup</code> and <code>make_script</code>
functions.</p>

<p>The builds can be customized by passing user options through the
<code>scriptOptions</code> and <code>relupOptions</code> parameters
in the specific project pom. In order to manage the project over
the project pom there is the possibility to let the
<code>Mojo</code> automatically fill in values from the project pom
into the <code>.rel</code> file. This can be done by using one of
the supported variables into the release file. Below is a list of
supported variables and their substitutions:</p>

<ul>
<li><code>${ARTIFACT}</code>: the projects artifact id (atom)</li>

<li><code>${VERSION}</code>: the projects version (string)</li>

<li><code>${APPLICATIONS}</code>: a list of the project
dependencies application and version tuples</li>

<li><code>${<i>APPLICATION_NAME</i>}</code>: will be replaced by a
string representing the available application version on this
host</li>
</ul>

<p>In case there is no release file specified the <code>Mojo</code>
will generate a default <code>.rel</code> file which looks like
this:</p>

<pre>
{release,
  {${ARTIFACT}, ${VERSION}},
  {erts, ${ERTS}},
  [{kernel, ${KERNEL}}, 
   {stdlib, ${STDLIB}}] ++ ${APPLICATIONS}}.
</pre>

<p>The resulting release file will be checked for plausability
regardless if generated or not. This is done by checking the
release version against the project version and checking all
dependency versions against the application versions in the release
file.</p>

<p>In order to create the release downgrade/upgrade script the
<code>Mojo</code> also needs a list of versions to upgrade from or
to downgrade to. If the user chooses to not specify both lists the
release script generation will be skipped.</p>

<p>TODO The generation of relup files has not yet been tested.</p></td></tr><tr class="b"><td><a href="run-mojo.html">erlang:run</a></td><td>No</td><td><p>This <code>Mojo</code> runs a, <code>erlang-otp</code> packaged
project interactively in a shell. Therefore an erlang shell with
<code>sasl</code> is started and the application is started using
<code>application:start/1</code>. To package and start the
application simply use</p>

<pre>
mvn erlang:run
</pre>

<br />
<br />
 

<p>BUG It is known that control characters cannot be used in the
interactive shell.</p>

<p>TODO Running release projects is currently not supported, but
could be useful to be implemented in the future.</p></td></tr><tr class="a"><td><a href="setup-mojo.html">erlang:setup</a></td><td>No</td><td><p>Utility goal that will setup a new Erlang/OTP Maven project,
creating the basic resources and folders required, from a <em>best
practice</em> point of view.</p>

<p>This will typically replaces the functionality given by a Maven
archetype, checking and creating any missing resource:</p>

<ul>
<li><code>src/main/erlang</code></li>

<li><code>src/main/erlang/[artifactId].app</code></li>

<li><code>src/main/include</code></li>

<li><code>src/main/priv</code></li>

<li><code>src/test/erlang</code></li>

<li><code>src/test/include</code></li>

<li><code>src/site/site.xml</code></li>

<li><code>src/site/apt/index.apt[.vm]</code></li>

<li><code>src/changes/changes.xml</code></li>
</ul></td></tr><tr class="b"><td><a href="test-mojo.html">erlang:test</a></td><td>No</td><td><p><code>Mojo</code> running test cases.</p>

<p>This <code>Mojo</code> will either run a specific test case (if
the user specified one using <code>-Dtest=test_module_test</code>)
or run all test cases found in the
<code>AbstractErlangMojo.srcTestErlang</code> directory.</p>

<p>The user can also choose to skip testing by specifying
<code>-DskipTests</code>. A test code coverage will automatically
be applied. A report about the test coverage may be created using
the <code>CoverageReport</code>.</p></td></tr><tr class="a"><td><a href="test-compile-mojo.html">erlang:test-compile</a></td><td>No</td><td>Compile erlang test sources and recompile erlang sources with debug
information using the <code>export_all</code> option.</td></tr><tr class="b"><td><a href="test-doc-mojo.html">erlang:test-doc</a></td><td>Yes</td><td><p>This <code>Mojo</code> will generate EDoc documentation for the
test sources found in
<code>AbstractErlangReport.srcTestErlang</code>.</p>

<p>The output will be put into
<code>AbstractErlangReport.targetSite</code>/test-doc. The user may
specify custom EDoc options in the project pom using the
<code>eDocOptions</code> parameter.</p>

<p>BUG It is known that <code>edoc</code> does not generate a
charset meta tag for the resulting <code>html</code> output.</p>

<p>BUG It is known that <code>doxia</code> overwrites the reports
<code>index.html</code> with a broken template when the report is
invoked as standalone.</p></td></tr><tr class="a"><td><a href="unpack-dependencies-mojo.html">erlang:unpack-dependencies</a></td><td>No</td><td>Unpack <code>erlang-otp</code> dependencies. This will unpack all
dependencies of this <code>MavenProject</code> into the
<code>AbstractErlangMojo.targetLib</code> directory. This is done
only in case the dependency has changed since the last unpack
process.</td></tr></table><a name="System_Requirements"></a><div class="section"><h3>System Requirements<a name="System_Requirements"></a></h3><p>The following specifies the minimum requirements to run this Maven plugin:</p><table align="center" border="0" class="bodyTable"><tr class="b"><td>Maven</td><td>2.0</td></tr><tr class="a"><td>JDK</td><td>1.6</td></tr><tr class="b"><td>Memory</td><td>No minimum requirement.</td></tr><tr class="a"><td>Disk Space</td><td>No minimum requirement.</td></tr></table></div><a name="Usage"></a><div class="section"><h3>Usage<a name="Usage"></a></h3><p>You should specify the version in your project's plugin configuration:</p><div class="source"><pre>&lt;project&gt;
  ...
  &lt;build&gt;
    &lt;!-- To define the plugin version in your parent POM --&gt;
    &lt;pluginManagement&gt;
      &lt;plugins&gt;
        &lt;plugin&gt;
          &lt;groupId&gt;eu.lindenbaum&lt;/groupId&gt;
          &lt;artifactId&gt;maven-erlang-plugin&lt;/artifactId&gt;
          &lt;version&gt;1.0.0-beta&lt;/version&gt;
        &lt;/plugin&gt;
        ...
      &lt;/plugins&gt;
    &lt;/pluginManagement&gt;
    &lt;!-- To use the plugin goals in your POM or parent POM --&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;eu.lindenbaum&lt;/groupId&gt;
        &lt;artifactId&gt;maven-erlang-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-beta&lt;/version&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
  &lt;/build&gt;
  ...
  &lt;!-- To use the report goals in your POM or parent POM --&gt;
  &lt;reporting&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;eu.lindenbaum&lt;/groupId&gt;
        &lt;artifactId&gt;maven-erlang-plugin&lt;/artifactId&gt;
        &lt;version&gt;1.0.0-beta&lt;/version&gt;
      &lt;/plugin&gt;
      ...
    &lt;/plugins&gt;
  &lt;/reporting&gt;
  ...
&lt;/project&gt;
</pre></div><p>For more information, see <a class="externalLink" href="http://maven.apache.org/guides/mini/guide-configuring-plugins.html">&quot;Guide to Configuring Plug-ins&quot;</a></p></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2010
                        <a href="http://www.lindenbaum.eu/">Lindenbaum GmbH</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
