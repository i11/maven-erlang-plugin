<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Dec 22, 2010 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Maven Erlang Plug-In - 
    erlang:prepare-release</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20101222" />
    <meta http-equiv="Content-Language" content="en" />
        
  </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                Maven Erlang Plug-In
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2010-12-22</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.0-beta</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Introduction">Introduction</a>
            </li>
                  <li class="none">
                          <a href="changes-report.html" title="Releasenotes">Releasenotes</a>
            </li>
                  <li class="none">
                          <a href="plugin-info.html" title="Goals">Goals</a>
            </li>
                  <li class="none">
                          <a href="plugin-configuration.html" title="Plugin Configuration">Plugin Configuration</a>
            </li>
                  <li class="none">
                          <a href="project-configuration.html" title="Project Configuration">Project Configuration</a>
            </li>
          </ul>
                       <h5>Examples</h5>
                  <ul>
                  <li class="none">
                          <a href="examples/setup.html" title="Project setup">Project setup</a>
            </li>
                  <li class="none">
                          <a href="examples/compile.html" title="Compile source">Compile source</a>
            </li>
                  <li class="none">
                          <a href="examples/coverage.html" title="Coverage report">Coverage report</a>
            </li>
          </ul>
                       <h5>Project</h5>
                  <ul>
                  <li class="none">
                          <a href="project-summary.html" title="Summary">Summary</a>
            </li>
                  <li class="none">
                          <a href="team-list.html" title="Team">Team</a>
            </li>
                  <li class="none">
                          <a href="license.html" title="License">License</a>
            </li>
                  <li class="none">
                          <a href="source-repository.html" title="Source code">Source code</a>
            </li>
                  <li class="none">
                          <a href="issue-tracking.html" title="Issue tracking">Issue tracking</a>
            </li>
          </ul>
                       <h5>Development</h5>
                  <ul>
                  <li class="none">
                          <a href="https://sourceforge.net/projects/erlang-plugin/" class="externalLink" title="Sourceforge">Sourceforge</a>
            </li>
                  <li class="none">
                          <a href="development.html" title="Overview">Overview</a>
            </li>
          </ul>
                       <h5>Reports</h5>
                  <ul>
                  <li class="none">
                          <a href="surefire-report.html" title="Unit tests">Unit tests</a>
            </li>
                  <li class="none">
                          <a href="invoker-report.html" title="Integration tests">Integration tests</a>
            </li>
                  <li class="none">
                          <a href="cobertura/index.html" title="Test coverage">Test coverage</a>
            </li>
                  <li class="none">
                          <a href="taglist.html" title="Tag list">Tag list</a>
            </li>
                  <li class="none">
                          <a href="apidocs/index.html" title="Java API">Java API</a>
            </li>
          </ul>
                       <h5>Dependencies</h5>
                  <ul>
                  <li class="none">
                          <a href="dependencies.html" title="Dependencies">Dependencies</a>
            </li>
                  <li class="none">
                          <a href="plugin-management.html" title="Plug-In management">Plug-In management</a>
            </li>
                  <li class="none">
                          <a href="plugins.html" title="Plug-Ins">Plug-Ins</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        
  
    <div class="section"><h2>erlang:prepare-release<a name="erlang:prepare-release"></a></h2>
      <p><b>Full name</b>:</p>
      <p>eu.lindenbaum:maven-erlang-plugin:1.0.0-beta:prepare-release</p>
      <p><b>Description</b>:</p>
      <div><p>This <tt>Mojo</tt> prepares the packaging of a release
<tt>.tar.gz</tt> package by creating the release
upgrade/downgrade scripts as well as the boot and start scripts.
The scripts are created using the erlang <tt>systools</tt>
modules <tt>make_relup</tt> and <tt>make_script</tt>
functions.</p>

<p>The builds can be customized by passing user options through the
<tt>scriptOptions</tt> and <tt>relupOptions</tt> parameters
in the specific project pom. In order to manage the project over
the project pom there is the possibility to let the
<tt>Mojo</tt> automatically fill in values from the project pom
into the <tt>.rel</tt> file. This can be done by using one of
the supported variables into the release file. Below is a list of
supported variables and their substitutions:</p>

<ul>
<li><tt>${ARTIFACT}</tt>: the projects artifact id (atom)</li>

<li><tt>${VERSION}</tt>: the projects version (string)</li>

<li><tt>${APPLICATIONS}</tt>: a list of the project
dependencies application and version tuples</li>

<li><tt>${<i>APPLICATION_NAME</i>}</tt>: will be replaced by a
string representing the available application version on this
host</li>
</ul>

<p>In case there is no release file specified the <tt>Mojo</tt>
will generate a default <tt>.rel</tt> file which looks like
this:</p>

<div><pre>
{release,
  {${ARTIFACT}, ${VERSION}},
  {erts, ${ERTS}},
  [{kernel, ${KERNEL}}, 
   {stdlib, ${STDLIB}}] ++ ${APPLICATIONS}}.
</pre></div>

<p>The resulting release file will be checked for plausability
regardless if generated or not. This is done by checking the
release version against the project version and checking all
dependency versions against the application versions in the release
file.</p>

<p>In order to create the release downgrade/upgrade script the
<tt>Mojo</tt> also needs a list of versions to upgrade from or
to downgrade to. If the user chooses to not specify both lists the
release script generation will be skipped.</p>

<p>TODO The generation of relup files has not yet been tested.</p></div>
      <p><b>Attributes</b>:</p>
      <ul>
        <li>Requires a Maven 2.0 project to be executed.</li>
        <li>Binds by default to the lifecycle phase: <tt>process-classes</tt>.</li>
      </ul>
      <div class="section"><h3>Optional Parameters<a name="Optional_Parameters"></a></h3>
        <table class="bodyTable" border="0" align="left">
          <tr class="a">
            <th align="left">Name</th>
            <th align="left">Type</th>
            <th align="left">Since</th>
            <th align="left">Description</th>
          </tr>
          <tr class="b">
            <td align="left"><b><a href="#previousVersions">previousVersions</a></b></td>
            <td align="left"><tt>List</tt></td>
            <td align="left"><tt>-</tt></td>
            <td align="left">A <tt>List</tt> of version <tt>String</tt>s to upgrade from
when this release is installed.<br /></td>
          </tr>
          <tr class="a">
            <td align="left"><b><a href="#relupOptions">relupOptions</a></b></td>
            <td align="left"><tt>String[]</tt></td>
            <td align="left"><tt>-</tt></td>
            <td align="left">Additional options for <tt>systools:make_relup/4</tt>.<br /></td>
          </tr>
          <tr class="b">
            <td align="left"><b><a href="#scriptOptions">scriptOptions</a></b></td>
            <td align="left"><tt>String[]</tt></td>
            <td align="left"><tt>-</tt></td>
            <td align="left">Additional options for <tt>systools:make_script/2</tt>.<br /></td>
          </tr>
          <tr class="a">
            <td align="left"><b><a href="#subsequentVersions">subsequentVersions</a></b></td>
            <td align="left"><tt>List</tt></td>
            <td align="left"><tt>-</tt></td>
            <td align="left">A <tt>List</tt> of version <tt>String</tt>s to downgrade
from when this release is installed.<br /></td>
          </tr>
        </table>
      </div>
      <div class="section"><h3>Parameter Details<a name="Parameter_Details"></a></h3>
        <p><b><a name="previousVersions">previousVersions</a>:</b></p>
        <div>A <tt>List</tt> of version <tt>String</tt>s to upgrade from
when this release is installed.</div>
        <ul>
          <li><b>Type</b>: <tt>java.util.List</tt></li>
          <li><b>Required</b>: <tt>No</tt></li>
        </ul><hr /><p><b><a name="relupOptions">relupOptions</a>:</b></p>
        <div>Additional options for <tt>systools:make_relup/4</tt>.</div>
        <ul>
          <li><b>Type</b>: <tt>java.lang.String[]</tt></li>
          <li><b>Required</b>: <tt>No</tt></li>
        </ul><hr /><p><b><a name="scriptOptions">scriptOptions</a>:</b></p>
        <div>Additional options for <tt>systools:make_script/2</tt>.</div>
        <ul>
          <li><b>Type</b>: <tt>java.lang.String[]</tt></li>
          <li><b>Required</b>: <tt>No</tt></li>
        </ul><hr /><p><b><a name="subsequentVersions">subsequentVersions</a>:</b></p>
        <div>A <tt>List</tt> of version <tt>String</tt>s to downgrade
from when this release is installed.</div>
        <ul>
          <li><b>Type</b>: <tt>java.util.List</tt></li>
          <li><b>Required</b>: <tt>No</tt></li>
        </ul>
      </div>
    </div>
  

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">Copyright &#169;                    2010
                        <a href="http://www.lindenbaum.eu/">Lindenbaum GmbH</a>.
            All Rights Reserved.      
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
